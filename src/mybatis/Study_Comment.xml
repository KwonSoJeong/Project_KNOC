<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="study_comment">

<insert id="insert" parameterType="study_comment">
insert into study_comment values (#{comment_Id}, #{refNum}, #{content}, 0, 0, sysdate)
</insert>

<select id="selectComment" resultType="study_comment" parameterType="int">
select * from study_comment where refnum = #{refNum} order by regdate asc
</select>

<select id="count" resultType="int" parameterType="int">
select count(*) from study_comment where refnum = #{refNum}
</select>

<select id="callProfile" resultType="string" parameterType="int">
select m.profile from study_comment s,KNOC_MEMBER m where s.COMMENT_ID = m.ID and s.refnum = #{refNum}
</select>

</mapper>